// Generated by CoffeeScript 1.3.1
var centerMap, getUrlParam, toSMercator, toWGS, tpl;

tpl = {
  templates: {},
  loadTemplates: function(names, callback) {
    var loadTemplate,
      _this = this;
    if (!debug) {
      callback();
      return;
    }
    loadTemplate = function(index) {
      var name;
      name = names[index];
      return $.get(static_prefix + "templates/" + name + ".html", function(data) {
        _this.templates[name] = data;
        index++;
        if (index < names.length) {
          return loadTemplate(index);
        } else {
          return callback();
        }
      });
    };
    return loadTemplate(0);
  },
  get: function(name) {
    return this.templates[name];
  }
};

getUrlParam = function(name) {
  var results;
  results = new RegExp('[\\?&]' + name + '=([^&#]*)').exec(window.location.href);
  if (!results) {
    return;
  }
  return decodeURI(results[1]);
};

centerMap = function(coords) {
  app.map.setCenter(coords, 14);
  return app.located = true;
};

toSMercator = function(coords) {
  return new OpenLayers.LonLat(coords.lon, coords.lat).transform(app.wgs84, app.s_mercator);
};

toWGS = function(coords) {
  return new OpenLayers.LonLat(coords.lon, coords.lat).transform(app.s_mercator, app.wgs84);
};
